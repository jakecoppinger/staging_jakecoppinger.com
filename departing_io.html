<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Departing.io - Jake Coppinger</title><meta name="description" content="Departing.io is a web application designed to answer one question and answer it well: when will the next bus come?"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" type="text/css" href="/css/style.min.css"><meta name="author" content="Jake Coppinger"><script type="text/javascript">window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=n(p[c])},heap.load("22086028")</script><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-45592199-1","auto"),ga("send","pageview")</script><meta name="google-site-verification" content="wWiPcNL9qG-D4Q21EDYXhULscyOoDc6ngoi0wUr48n8"></head><body><div class="imagetext"><img class="templates/_srcset.html" srcset="/images/720/departing_io/cold_walking.jpeg 720w, /images/1100/departing_io/cold_walking.jpeg 1100w, /images/1920/departing_io/cold_walking.jpeg 1920w" alt="Traveller using Departing.io"><section class="header floating"><h1><a href="/">Jake Coppinger&nbsp;/</a> Departing.io</h1></section></div><div class="clear"></div><section class="content"><h1><strong><a href="http://www.departing.io">departing.io</a></strong> is a web application designed to answer one question, and answer it well:</h1><h1><em>“when will the next bus come?”</em></h1><p><a href="http://www.departing.io"><strong>Departing.io</strong></a> - A web app for real time bus ACTION bus arrivals in Canberra, Australia. I developed this web app through year 12 as part of my media studies, and later released it as open source under the GPL license.</p><h2><a href="https://github.com/jakecoppinger/departing.io">github.com/jakecoppinger/departing.io</a></h2><p>Try it on your smartphone at <a href="http://www.departing.io">departing.io</a>!</p><h2>Philosophy</h2><p>While the software for planning trips is well established (such as Google Maps) I found it was still a chore to find when the next bus would arrive. The LED screens at major bus stations are helpful but they may only show 5 buses at a time - which may not include the one you are looking for. I created Designless.io for the sole purpose of finding when the next bus on a route will depart from a given stop.</p><h2>The use case</h2><ol><li>Open the web app from the home screen of your smartphone</li><li>Type the first few letters of the bus stop you are at and select from the menu</li><li>If there is more than one route departing select the desired bus route</li><li>See how many minutes and seconds until the bus arrives in real time</li></ol><h2>Technical details</h2><p>To run an instance of the web app you will need to apply for an <a href="https://www.action.act.gov.au/rider_Info/apps/nxtbus-data-feed-registration-form">ACTION NXTBUS API key</a>. You will receive the key in an email along with some documentation. To keep your key private the app receives the key as the environment variable <strong>NXTBUS_API_KEY</strong> (described in the Running App section)</p><p>This web app uses:</p><ul><li>Python Tornado as a non-blocking web server</li><li>Processing to visualise the information, translated into JavaScript and shown on an HTML5 Canvas</li><li>Heroku for hosting</li><li>npm for managing Gulp dependencies and installing bower (<code>package.json</code>)</li><li>Bower for managing front end dependencies (<code>bower.json</code>)</li><li>Gulp used to compile SCSS, lint JavaScript and minify (<code>gulpfile.js</code>)</li></ul><h2>Development prerequisites</h2><p>On Mac OSX, first install Homebrew:<br><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></p><h3>Install Node</h3><p>Mac:</p><p><code>brew update</code></p><p><code>brew install -g node</code></p><p>Ubuntu:</p><p><code>sudo apt-get update</code></p><p><code>sudo apt-get install nodejs</code></p><h3>Install Pip (Python package manager)</h3><p>As per <a href="https://pip.pypa.io/en/latest/installing.html">https://pip.pypa.io/en/latest/installing.html</a></p><p><code>wget https://bootstrap.pypa.io/get-pip.py</code></p><p><code>sudo python get-pip.py</code></p><h2>Installing dependencies</h2><ol><li><p>Clone repository<br><code>git clone https://github.com/jakecoppinger/departing.io.git</code><br><code>cd departing.io</code></p></li><li><p>Install Node dependencies<br><code>npm install</code></p></li><li><p>Install Bower dependencies<br><code>bower install</code><br>(you must do this after installing Node dependencies as that will install Bower)</p></li><li><p>Python dependencies<br><code>sudo pip install -r requirements.txt</code></p></li></ol><h2>Running app</h2><h3>Export ACTION NXTBUS API key</h3><p>Where APIKEY is your key:</p><p><code>export NXTBUS_API_KEY=APIKEY</code></p><p>You can add this line to your <code>~/.bashrc</code> file to skip this step in future.</p><h3>Lint JavaScript and build SCSS files</h3><p><code>gulp</code></p><h3>Start server</h3><p><code>python main.py --host=HOST</code></p><p>Where HOST is IP address or domain. For testing on local machine, use <code>localhost</code>, for testing on local network (including smartphones) use local IP address (<code>ifconfig</code>)</p></section><script src="/js/scripts.min.js"></script><div class="clear"></div><section class="footer"><h1>Website design &amp; development by <a href="mailto:jake@jakecoppinger.com">Jake Coppinger</a> / built from scratch with <a href="http://www.gulpjs.com/">Gulp.js</a>, Markdown, <a href="https://mozilla.github.io/nunjucks/">Nunjucks</a> templating &amp; Git / <a href="https://github.com/jakecoppinger/jakecoppinger.com">github.com/jakecoppinger/jakecoppinger.com</a></h1></section></body></html>